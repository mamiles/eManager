# Makefile generated by imake - do not edit!
# $XConsortium: imake.c,v 1.65 91/07/25 17:50:17 rws Exp $
#
# The cpp used on this machine replaces all newlines and multiple tabs and
# spaces in a macro expansion with a single space.  Imake tries to compensate
# for this, but is not always successful.
#

MACROFILE = sol8gcc.cf

# -------------------------------------------------------------------------
# including site.def with BeforeVenderCF defined...
# -------------------------------------------------------------------------

# NETSYS $Id: site.def,v 1.11 1999/04/22 05:28:52 waf Exp $

# -------------------------------------------------------------------------
# including the vendor .cf file...
# -------------------------------------------------------------------------

GCCBASE = /auto/sw/packages/gcc/c2.95.3/sparc-sun-solaris2.8

# -------------------------------------------------------------------------
# including site.def with AfterVenderCF defined...
# -------------------------------------------------------------------------

# NETSYS $Id: site.def,v 1.11 1999/04/22 05:28:52 waf Exp $

# -------------------------------------------------------------------------
# main body of Imake.tmpl...
# -------------------------------------------------------------------------
PLATFORM_DIR = sol8gcc

TOP = /vob/emanager/src

ISC = isc

CURRENT_DIR = ./srcs/watchdog

ifeq ($(EXT_BUILD_DIR_BASE),)

EXT_BUILD_DIR_BASE = /auto/ntgdump1

endif

ifeq ($(EXT_BUILD_DIR),)

EXT_BUILD_DIR := .

endif

BUILD_DIR := $(EXT_BUILD_DIR)/$(PLATFORM_DIR)

IMAKE_DEFINES =

CONFIGSRC = $(TOP)/config
IRULESRC = $(CONFIGSRC)
IMAKE_CMD = $(IMAKE) -s Makefile.$(PLATFORM_DIR) -D$(PLATFORM_DIR) -DPlatformDir=$(PLATFORM_DIR) -I$(NEWTOP)$(IRULESRC) $(IMAKE_DEFINES)

DEVTOOLS_DIR = /auto/ntgtoolsdist/localsol

DEVTOOLS_INCDIR = $(DEVTOOLS_DIR)/include

DEVTOOLS_INCS = -I$(DEVTOOLS_INCDIR)

DEVTOOLS_BINDIR = $(DEVTOOLS_DIR)/bin

DEVTOOLS_LIBDIR = $(DEVTOOLS_DIR)/lib

NTGAPPS_DIR = /auto/ntgtoolsdist/apps

NTGTOOLSDATA_DIR = /auto/ntgtoolsdata

BOOTSTRAPCFLAGS = -Dsol8gcc

BLINKCMD =
BLINKLINK =

CC = $(BLINKCMD) $(GCCBASE)/bin/gcc

CCPLUS = $(BLINKCMD) $(GCCBASE)/bin/g++
CXX = $(BLINKCMD) $(GCCBASE)/bin/g++
ACXX = $(BLINKCMD) $(GCCBASE)/bin/g++

DEFJAVA_TARGETDIR = $(JAVAINST_APPCLASSES)

JAVAC = $(JDK14DIR)/bin/javac
JAVAH = $(JDK14DIR)/bin/javah
JAVARMICCMD = $(JDK14DIR)/bin/rmic
JAVADOC = $(JDK14DIR)/bin/javadoc
JAR = jar

CREATE_JAR_FLAGS = cvf
UPDATE_JAR_FLAGS = uvf

INSTALL = cp

UNCOMPRESSEDZIP = zip -0rD

MAKE = make $(BLINKLINK)

IMAKE = imake

MV = mv

RANLIB = ranlib

RANLIBINSTFLAGS = -t

RM = rm -f

RMDIR = rm -rf

CP = cp

CPDIR = cp -r

RMIC_OPTIONS =

TEST = /bin/test

SHELL = /bin/sh

AR = $(BLINKCMD) /usr/ccs/bin/ar cq

CPLUS_LD = time $(BLINKCMD) $(GCCBASE)/bin/g++

CPLUS_SHLIB = $(GCCBASE)/bin/g++

C_LD = $(BLINKCMD) $(GCCBASE)/bin/gcc

FLEX = flex

BISON = bison

TAGS = ctags

MKDIRHIER = mkdirhier

CHMOD = chmod

INSTPGMFLAGS = 755

INSTBINFLAGS = 755

INSTLIBFLAGS = 644

INSTINCFLAGS = 644

INSTMANFLAGS = 644

INSTDATFLAGS = 644

INSTDIRFLAGS = 755

X11_HOMEDIR = /auto/ntgtoolsdist/apps/Solaris-motif-1.2.5a

X11_INCDIR = $(X11_HOMEDIR)/include

X11_INCS = -I$(X11_INCDIR)

X11_LIBDIR = $(X11_HOMEDIR)/lib

X11_LDFLAGS = -L$(X11_LIBDIR)

X11_SYSLIBS = -lX11

MOTIF_HOMEDIR = /auto/ntgtoolsdist/apps/Solaris-motif-1.2.5a

MOTIF_INCDIR = $(MOTIF_HOMEDIR)/include

MOTIF_INCS = -I$(MOTIF_INCDIR)

MOTIF_LIBDIR = $(MOTIF_HOMEDIR)/lib

MOTIF_LDFLAGS = -L$(MOTIF_LIBDIR)

MOTIF_SYSLIBS = -lXm -lXt

SOCKET_SYSLIBS = -lsocket -lnsl

DL_SYSLIBS = -ldl

GEN_SYSLIBS = -lgen

RV_HOME_DIR = /auto/ntgtoolsdist/apps/tibco/rv-7.1/sol28

RV_INCDIR = /auto/ntgtoolsdist/apps/tibco/rv-7.1/sol28/include

RV_INCS = -I$(RV_HOME_DIR)/include

RV_LIBDIR = /auto/ntgtoolsdist/apps/tibco/rv-7.1/sol28/lib

RV_LIBS = $(RV_LIBDIR)/libtibrvcpp.a $(RV_LIBDIR)/libtibrvcmq.a $(RV_LIBDIR)/libtibrvft.a $(RV_LIBDIR)/libtibrvcm.a $(RV_LIBDIR)/libtibrv.a

RV_SHARE_LIBS = -ltibrvcpp -ltibrv -ltibrvcm

CORNERSTONE = /auto/ntgtoolsdist/apps/cornerstone-component/cornerstone-v0.1-b004
CORNERSTONE_CLASSPATH=$(CORNERSTONE)/classes/adclient.jar$(JCPS)$(CORNERSTONE)/classes/controller.jar$(JCPS)$(CORNERSTONE)/classes/devicediscovery.jar$(JCPS)$(CORNERSTONE)/contrib/log4j.jar$(JCPS)$(CORNERSTONE)/contrib/xmlparser.jar

JAXP_HOME_DIR = /auto/ntgtoolsdist/localsol/java/jaxp-1.1

XAL_INSTALL_DIR = /auto/ntgtoolsdist/localsol/java/xal
XAL_JAR_CLASSES = $(XAL_INSTALL_DIR)/xal.jar

RV_LIBSG = $(RV_LIBS)

RV_CLASSES = $(RV_HOME_DIR)/lib/tibrvj.jar

JAVAMAIL_IMAP_JAR_CLASSES = $(STD_JAVALIBPATH)/imap.jar

JAVAMAIL_JAR_CLASSES = $(STD_JAVALIBPATH)/mail.jar

JAVAMAIL_API_JAR_CLASSES = $(STD_JAVALIBPATH)/mailapi.jar

JAVAMAIL_POP3_JAR_CLASSES = $(STD_JAVALIBPATH)/pop3.jar

JAVAMAIL_SMTP_JAR_CLASSES = $(STD_JAVALIBPATH)/smtp.jar

JDOM_HOME_DIR = /auto/ntgtoolsdist/localsol/java/jdom-b7/build

JDOM_JAR_CLASSES = $(JDOM_HOME_DIR)/jdom.jar

JAVA_HELP_DIR = /auto/ntgtoolsdist/localsol/java/jh1.1.3

XERCESJAVACLASSPATH = $(STD_JAVALIBPATH)/xerces.jar

SOMRMORJAVACLASSPATH = $(STD_JAVALIBPATH)/SomRmor.jar

SOAPJAVACLASSPATH = $(STD_JAVALIBPATH)/soap.jar

JAXEN_HOME_DIR = /auto/ntgtoolsdist/localsol/java/jaxen

JAXEN_JAR_CLASSES = $(JAXEN_HOME_DIR)/jaxen-core.jar$(JCPS)$(JAXEN_HOME_DIR)/jaxen-jdom.jar$(JCPS)$(JAXEN_HOME_DIR)/lib/saxpath.jar$(JCPS)$(JAXEN_HOME_DIR)/jaxen-dom.jar

JWS_CLASSES = /auto/ntgtoolsdist/localsol/java/jws1_0_1_02/javaws/javaws.jar

AAGENT_HOME_DIR = /vob/ntg/dev/resources/java/archives

AAGENT_JAR_CLASSES = $(AAGENT_HOME_DIR)/aagent.jar$(JCPS)$(AAGENT_HOME_DIR)/aagent_3_5_2.jar

PURIFY = /sw/licensed/rational/solaris2bin/purify

PURIFYOPTIONS = -cache-dir=/auto/ntgcache/pure/$(PLATFORM_DIR) -always-use-cache-dir=yes -windows=yes -recursion-depth-limit=40000

QUANTIFY = /sw/licensed/rational/products/quantify/4.5.1/quantify

QUANTIFYOPTIONS = -cache-dir=/auto/ntgcache/pure/$(PLATFORM_DIR) -always-use-cache-dir=yes -windows=yes

PURELINK =

PURELINKOPTIONS =

TCLSH = $(TOP)/bin/$(PLATFORM_DIR)/tclsh

TCL_SCRIPTDIR = $(TOP)/resources/scripts

LOCAL_TCL_LIBRARY = $(TOP)/resources/tcl

PERL_INCDIR = $(DEVTOOLS_INCDIR)/perl

PERL_LIBDIR = $(DEVTOOLS_LIBDIR)

PERL_LIBS = $(DEVTOOLS_LIBDIR)/libperl.a

PERL_LIBS_DEBUG = $(DEVTOOLS_LIBDIR)/libperldebug.a

PERL_CMD = perl

SYBASE_HOME_DIR = /auto/ntgtoolsdist/apps/asa8/sybase

E2A_HOME_DIR = /auto/ntgtoolsdist/apps/orbix/parts/OrbixE2A-6.0.1/dev/iona/asp/6.0

IDLJFLAGS = -jbase:-O$(IDLJ_OUTPUTDIR)

IDLJFLAGSNEW = -jpoa:-O$(IDLJ_OUTPUTDIR)

IDLJ_OUTPUTDIR = ./idlj_output/

E2A_CLASSES = /auto/ntgtoolsdist/apps/orbix/parts/OrbixE2A-6.0.1/dev/iona/lib/art/art/5/art.jar$(JCPS)/auto/ntgtoolsdist/apps/orbix/parts/OrbixE2A-6.0.1/dev/iona/lib/corba/idlgen/5/it_genie.jar$(JCPS)/auto/ntgtoolsdist/apps/orbix/parts/OrbixE2A-6.0.1/dev/iona/lib/corba/location_service/5/location.jar$(JCPS)/auto/ntgtoolsdist/apps/orbix/parts/OrbixE2A-6.0.1/dev/iona/lib/corba/naming_service/5/naming.jar$(JCPS)/auto/ntgtoolsdist/apps/orbix/parts/OrbixE2A-6.0.1/dev/iona/lib/corba/java_poa/5/poa.jar

JAVACORBACFLAGS = -d $(IDLJ_OUTPUTDIR) -classpath '$(IDLJ_OUTPUTDIR)$(JCPS)$(E2A_CLASSES)$(JCPS)$(JDK14SYSTEMCLASSPATH)'

E2AIDLJ = $(E2A_HOME_DIR)/bin/idl

JDK14DIR = /auto/ntgtoolsdist/localsol/java/j2sdk1.4.0

JAVASDK_HOMEDIR = $(JDK14DIR)
JAVASDK_INCDIR = $(JDK14DIR)/include
JAVASDK_LIBDIR = $(JDK14DIR)/lib
JAVASDK_INCS =  -I$(JDK14DIR)/include -I$(JDK14DIR)/include/solaris

ifneq ($(RELEASE),)
  JAVASDK_LIBS =
else
  JAVASDK_LIBS =
endif

JDOC_WINDOW_TITLE="VPNSC 3.0 API Documentation"
JDOC_TITLE="VPNSC 3.0 API Documentation"
JDOC_HEADER="<em><b>VPN Solution Center, ver 3.0</b><em>"
JDOC_BOTTOM="<b>Copyright 2001-2002 Cisco Systems Inc.</b>"

OSUF = .o

CPLUSSUF = .cpp

CSUF = .c

PROGRAMSUF =

LIBSUF = .a

LIBPRE = lib

SOSUF = .so

STD_CDEFINES = -Dsol8gcc -DSOL8 -DGCC -D_REENTRANT

STD_COPTIONS =

STD_CPLUSDEFINES = -Dsol8gcc -DSOL8 -DGCC -D_REENTRANT

STD_CPLUSOPTIONS =

ifneq ($(RELEASE),)
  CDEBUGFLAGS     = -O -DRELEASE
  CPLUSDEBUGFLAGS = -O -DRELEASE
  JAVADEBUGFLAGS  =
else
  CDEBUGFLAGS     = -g
  CPLUSDEBUGFLAGS = -O -g
  JAVADEBUGFLAGS  = -g
endif

PIC_COPTION = -shared -fPIC

PIC_CPLUSOPTION = -shared -fPIC

ifneq ($(USE_CORBA),)
  USE_CORBA_FLAGS = -DUSE_CORBA=1
else
  USE_CORBA_FLAGS =
endif

CPLUSOUTFLAG = -o

ARGSEP = $(subst SPACECHAR, ,SPACECHAR)

PREPROCESSFLAG = -E

LIBOUTFLAG =

PROGOUTFLAG = -o

SED_EXTRA =

TOP_INCLUDES = -I$(TOP)/include$(SHADOW) -I$(TOP)/include$(SHADOW)/$(PLATFORM_DIR)

STD_CINCLUDES =

STD_CPLUSINCLUDES =

ALLCOPTIONS  = $(STD_COPTIONS) $(CDEBUGFLAGS) $(COPTIONS) $(EXTRA_COPTIONS) $(USE_DM_FLAGS)
ALLCDEFINES  = $(STD_CDEFINES) $(CDEFINES) $(EXTRA_CDEFINES)
ALLCINCLUDES = $(EXTRA_CINCLUDES) $(CINCLUDES) $(TOP_INCLUDES) $(STD_CINCLUDES)
CFLAGS       = $(ALLCOPTIONS) $(ALLCDEFINES) $(ALLCINCLUDES)

ALLCPLUSOPTIONS  = $(STD_CPLUSOPTIONS) $(CPLUSDEBUGFLAGS) $(CPLUSOPTIONS) $(EXTRA_CPLUSOPTIONS) $(USE_CORBA_FLAGS) $(USE_DM_FLAGS)
ALLCPLUSDEFINES  = $(STD_CPLUSDEFINES) $(CPLUSDEFINES) $(EXTRA_CPLUSDEFINES)
ALLCPLUSINCLUDES = $(EXTRA_CPLUSINCLUDES) $(CPLUSINCLUDES) $(TOP_INCLUDES) $(STD_CPLUSINCLUDES)
CPLUSFLAGS       = $(ALLCPLUSOPTIONS) $(ALLCPLUSDEFINES) $(ALLCPLUSINCLUDES)

JCPS             = :

JDK14SYSTEMCLASSPATH =

JSDKCLASSPATH = /auto/ntgtoolsdist/localsol/java/jsdk2.1/servlet.jar

STD_JAVALIBPATH  = /auto/ntgtoolsdist/apps/java/archives

SNMPJAVACLASSPATH = $(STD_JAVALIBPATH)/SOJ_1_2.jar:$(STD_JAVALIBPATH)/AdventNetSnmp3_3.2.jar:$(STD_JAVALIBPATH)/cryptix32.jar

JAKARTAJAVACLASSPATH = $(STD_JAVALIBPATH)/jakarta-regexp-1.2.jar

VELOCITYJAVACLASSPATH = $(STD_JAVALIBPATH)/velocity-dep-1.3.1-rc2.jar

TEMPLATE_MGR_GUI_JAR = $(TOP)/$(ISC)/WEB-INF/lib/templatemgr.jar

TEMPLATE_MGR_BE_JAR = $(TOP)/$(ISC)/WEB-INF/lib/templatemanager.jar

BREEZETKJAVACLASSPATH = $(STD_JAVALIBPATH)/breezetk377.jar

GNUJAVACLASSPATH = $(STD_JAVALIBPATH)/gnu-regexp-1.0.8.jar

TOMCAT_VERSION=tomcat/jakarta-tomcat-4.0.1

TOMCAT_HOME_DIR = /auto/ntgtoolsdist/apps/$(TOMCAT_VERSION)

TOMCATSERVLET = $(TOMCAT_HOME_DIR)/common/lib/servlet.jar

TOMCATCATALINA = $(TOMCAT_HOME_DIR)/server/lib/catalina.jar

STRUTS = $(TOP)/$(ISC)/WEB-INF/lib/struts.jar

UII = $(TOP)/$(ISC)/WEB-INF/lib/uii.jar

OBJECT_SELECTOR = $(TOP)/$(ISC)/WEB-INF/lib/ogs-objselector.jar

FTP_CLASSPATH = $(TOP)/thirdparty/jar/ftp.jar

SPE_LIB = $(NTGAPPS_DIR)/spe/lib
SPE_CLASSPATH = $(SPE_LIB)/auth.jar$(JCPS)$(SPE_LIB)/authentication.jar$(JCPS)$(SPE_LIB)/bouncerplugin.jar$(JCPS)$(SPE_LIB)/cda.jar$(JCPS)$(SPE_LIB)/cnscorba.jar$(JCPS)$(SPE_LIB)/dess.jar$(JCPS)$(SPE_LIB)/gsal.jar$(JCPS)$(SPE_LIB)/install.jar$(JCPS)$(SPE_LIB)/protect.jar$(JCPS)$(SPE_LIB)/remotefw.jar$(JCPS)$(SPE_LIB)/xmlplugins.jar

JLOOX_LIB = $(NTGAPPS_DIR)/jloox/3.0/lib
JLOOX_CLASSPATH=$(JLOOX_LIB)/jloox20.jar$(JCPS)$(JLOOX_LIB)/jlayout30.jar$(JCPS)$(JLOOX_LIB)/lxgis20.jar

JAVAINST_TOP     = $(TOP)/resources/java

JAVAINST_CLASSES     = $(JAVAINST_TOP)/classes

JAVAINST_DOCS     = $(JAVAINST_TOP)/docs

JAVAINST_APPCLASSES     = $(JAVAINST_CLASSES)/common

JAVAINST_APPLETCLASSES     = $(JAVAINST_CLASSES)/applet

JAVAINST_ARCHIVES     = $(JAVAINST_TOP)/archives

JAVAINST_APPJARS     = $(JAVAINST_TOP)/archives

JAVAINST_CORBACLASSES = $(JAVAINST_CLASSES)/corba

JAVAINST_AAGENTCLASSES = $(JAVAINST_CLASSES)/common/AAgent$(JCPS)$(JAVAINST_CLASSES)/common/AAgent/3.5.2

PREFIX_SOURCEPATH =
SUFFIX_SOURCEPATH =

LOCALCLASSPATH   =
NETSYSCLASSPATH  = $(JAVAINST_APPCLASSES)$(JCPS)$(DEFJAVA_TARGETDIR)
USERCLASSPATH    = $(JAKARTAJAVACLASSPATH)$(JCPS)$(GNUJAVACLASSPATH)$(JCPS)$(BREEZETKJAVACLASSPATH)$(JCPS)$(RV_CLASSES)$(JCPS)$(XAL_JAR_CLASSES)$(JCPS)$(JDOM_JAR_CLASSES)$(JCPS)$(JAXEN_JAR_CLASSES)$(JCPS)$(SNMPJAVACLASSPATH)$(JCPS)$(VELOCITYJAVACLASSPATH)$(JCPS)$(XERCESJAVACLASSPATH)$(JCPS)$(JAVAMAIL_IMAP_JAR_CLASSES)$(JCPS)$(JAVAMAIL_JAR_CLASSES)$(JCPS)$(JAVAMAIL_API_JAR_CLASSES)$(JCPS)$(JAVAMAIL_POP3_JAR_CLASSES)$(JCPS)$(JAVAMAIL_SMTP_JAR_CLASSES)$(JCPS)$(SPE_CLASSPATH)$(JCPS)$(SOMRMORJAVACLASSPATH)$(JCPS)$(JAVAINST_AAGENTCLASSES)$(JCPS)$(SOAPJAVACLASSPATH)$(JCPS)$(JLOOX_CLASSPATH)$(JCPS)$(CORNERSTONE_CLASSPATH)
ALLJAVAOPTIONS   = -J-mx64m $(JAVADEBUGFLAGS)
ADDITIONAL_JAVAC_OPTIONS = -source 1.4
ALLJAVADEFINES   =
ALLJAVACLASSPATH = $(subst $(JCPS)$(JCPS),$(JCPS),$(NETSYSCLASSPATH)$(JCPS)$(USERCLASSPATH)$(JCPS)$(LOCALCLASSPATH)$(JCPS)$(TOMCATSERVLET)$(JCPS)$(STRUTS)$(JCPS)$(UII)$(JCPS)$(OBJECT_SELECTOR)$(JCPS)$(FTP_CLASSPATH)$(JCPS)$(JAVAINST_CORBACLASSES)$(JCPS)$(JWS_CLASSES)$(JCPS)$(TOMCATCATALINA))
JAVACFLAGS       = $(ALLJAVAOPTIONS) $(ALLJAVADEFINES) -classpath '$(ALLJAVACLASSPATH)'

STD_C_LDFLAGS = -L$(GCCBASE)/lib -L/usr/lib

STD_CPLUS_LDFLAGS =  -L$(GCCBASE)/lib -L/usr/lib

STD_C_LIBRARIES =

STD_CPLUS_LIBRARIES =

STD_CPLUS_SYS_LIBRARIES = -lc

STD_C_SYS_LIBRARIES = -lc

ALL_CPLUS_LDFLAGS   = $(CPLUSFLAGS) $(CPLUS_LDFLAGS) $(STD_CPLUS_LDFLAGS)

ALL_CPLUS_LDLIBS    = $(STD_CPLUS_LIBRARIES) $(CPLUS_LIBRARIES)
ALL_CPLUS_LDSYSLIBS = $(STD_CPLUS_SYS_LIBRARIES) $(CPLUS_SYS_LIBRARIES)

ALL_C_LDFLAGS       = $(CFLAGS) $(C_LDFLAGS) $(STD_C_LDFLAGS)

ALL_C_LDLIBS        = $(STD_C_LIBRARIES) $(C_LIBRARIES)
ALL_C_LDSYSLIBS     = $(STD_C_SYS_LIBRARIES) $(C_SYS_LIBRARIES)

SLASH = /

RM_CMD = $(RM) *.CKP *.BAK *.bak *$(OSUF) core errs ,* *~ *$(LIBSUF) .emacs_* tags TAGS make.log MakeOut *.d *.pdb *.idb

# -------------------------------------------------------------------------
# including Project.tmpl...
# -------------------------------------------------------------------------

# -------------------------------------------------------------------------
# begin Project.tmpl
# -------------------------------------------------------------------------

# -------------------------------------------------------------------------
# including Imake.rules...
# -------------------------------------------------------------------------

# -------------------------------------------------------------------------
# Imake rules for building libraries, programs, scripts, and data files
# rules:  $XConsortium: Imake.rules,v 1.123 91/09/16 20:12:16 rws Exp $

# -------------------------------------------------------------------------
# preparing for Imakefile inclusion...
# -------------------------------------------------------------------------

.PHONY: all clean install cmpinstall etags Makefile Makefiles

all::

# -------------------------------------------------------------------------
# including Imakefile...
# -------------------------------------------------------------------------

WATCHDOG_SRCS = watchdog.cpp Properties.cpp
WATCHDOG_OBJS = $(WATCHDOG_SRCS:.cpp=$(OSUF))

JAVA_LAUNCHER_SRCS = launcher.cpp
JAVA_LAUNCHER_OBJS = $(JAVA_LAUNCHER_SRCS:.cpp=$(OSUF))

SRCS = $(WATCHDOG_SRCS) $(JAVA_LAUNCHER_SRCS)
OBJS = $(SRCS:.cpp=$(OSUF))

CPLUSINCLUDES = -I. \
	$(JAVASDK_INCS)

LOCAL_LIBRARIES = \
	-L$(JDK14DIR)/jre/lib/sparc -ljava -ljvm

DEPLIBS	=

CPLUS_LDFLAGS = \
	-L$(JDK14DIR)/jre/lib/sparc

	WD_SYSLIBS =  -lsocket -lnsl -ldl -lc -lw
	JAVA_LAUNCHER_SYSLIBS =  -lsocket -lnsl -ldl -lc -lw
	STD_CPLUS_SYS_LIBRARIES =

all:: $(PLATFORM_DIR)/nWatchDog$(PROGRAMSUF)

link:: nWatchDog$(PROGRAMSUF)

local:: nWatchDog$(PROGRAMSUF)

nWatchDog$(PROGRAMSUF): $(PLATFORM_DIR)/nWatchDog$(PROGRAMSUF)

$(PLATFORM_DIR)/nWatchDog$(PROGRAMSUF): $(addprefix $(PLATFORM_DIR)/,$(WATCHDOG_OBJS)) $(DEPLIBS)
	$(PURELINK) $(PURELINKOPTIONS) $(CPLUS_LD) $(ALL_CPLUS_LDFLAGS) $(PROGOUTFLAG)$(ARGSEP)$@ $(addprefix $(PLATFORM_DIR)/,$(WATCHDOG_OBJS)) $(LOCAL_LIBRARIES) $(ALL_CPLUS_LDLIBS) $(WD_SYSLIBS) $(ALL_CPLUS_LDSYSLIBS)

clean::
	$(RM) $(PLATFORM_DIR)/nWatchDog$(PROGRAMSUF) $(PLATFORM_DIR)/nWatchDog.pure_linkinfo $(PLATFORM_DIR)/nWatchDog.pure_linklog $(PLATFORM_DIR)/nWatchDog.pure_linkmap $(addprefix $(PLATFORM_DIR)/,$(WATCHDOG_OBJS)) $(addprefix $(PLATFORM_DIR)/,$(DEPFILES))

install:: $(PLATFORM_DIR)/nWatchDog
	@if [ -d $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW)); fi
	$(RM) $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW)/nWatchDog
	$(INSTALL)  $(PLATFORM_DIR)/nWatchDog $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW)

cmpinstall:: $(PLATFORM_DIR)/nWatchDog
	@if [ -d $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW)); fi
	@if { cmp -s $(PLATFORM_DIR)/nWatchDog $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW)/nWatchDog ; } ; then \
	echo $(PLATFORM_DIR)/nWatchDog does not need installation ; \
	else ( \
	echo Installing executable nWatchDog in $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW) ; \
	$(RM) $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW)/nWatchDog ; \
	$(INSTALL)  $(PLATFORM_DIR)/nWatchDog $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW) ) ; fi

all:: $(PLATFORM_DIR)/jlaunch$(PROGRAMSUF)

link:: jlaunch$(PROGRAMSUF)

local:: jlaunch$(PROGRAMSUF)

jlaunch$(PROGRAMSUF): $(PLATFORM_DIR)/jlaunch$(PROGRAMSUF)

$(PLATFORM_DIR)/jlaunch$(PROGRAMSUF): $(addprefix $(PLATFORM_DIR)/,$(JAVA_LAUNCHER_OBJS)) $(DEPLIBS)
	$(PURELINK) $(PURELINKOPTIONS) $(CPLUS_LD) $(ALL_CPLUS_LDFLAGS) $(PROGOUTFLAG)$(ARGSEP)$@ $(addprefix $(PLATFORM_DIR)/,$(JAVA_LAUNCHER_OBJS)) $(LOCAL_LIBRARIES) $(ALL_CPLUS_LDLIBS) $(JAVA_LAUNCHER_SYSLIBS) $(ALL_CPLUS_LDSYSLIBS)

clean::
	$(RM) $(PLATFORM_DIR)/jlaunch$(PROGRAMSUF) $(PLATFORM_DIR)/jlaunch.pure_linkinfo $(PLATFORM_DIR)/jlaunch.pure_linklog $(PLATFORM_DIR)/jlaunch.pure_linkmap $(addprefix $(PLATFORM_DIR)/,$(JAVA_LAUNCHER_OBJS)) $(addprefix $(PLATFORM_DIR)/,$(DEPFILES))

install:: $(PLATFORM_DIR)/jlaunch
	@if [ -d $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW)); fi
	$(RM) $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW)/jlaunch
	$(INSTALL)  $(PLATFORM_DIR)/jlaunch $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW)

cmpinstall:: $(PLATFORM_DIR)/jlaunch
	@if [ -d $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW)); fi
	@if { cmp -s $(PLATFORM_DIR)/jlaunch $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW)/jlaunch ; } ; then \
	echo $(PLATFORM_DIR)/jlaunch does not need installation ; \
	else ( \
	echo Installing executable jlaunch in $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW) ; \
	$(RM) $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW)/jlaunch ; \
	$(INSTALL)  $(PLATFORM_DIR)/jlaunch $(TOP)/bin/$(PLATFORM_DIR)$(SHADOW) ) ; fi

ifeq ($(SKIP_DEPENDENCIES),)
ifeq ($(SD),)
DEPFILES := $(patsubst %.c,%.d,$(filter %.c,$(SRCS))) $(patsubst %$(CPLUSSUF),%.d,$(filter %$(CPLUSSUF),$(SRCS))) $(patsubst %.Y,%.d,$(filter %.Y,$(SRCS))) $(patsubst %.L,%.d,$(filter %.L,$(SRCS)))
ifneq ($(strip $(DEPFILES)),)
include $(addprefix $(PLATFORM_DIR)/,$(DEPFILES))
endif
endif
endif

# -------------------------------------------------------------------------
# common rules for all Makefiles from Imake.tmpl
# -------------------------------------------------------------------------

.SUFFIXES: .Y .L $(CPLUSSUF) .c .d $(OSUF) .java .class .h .cpp

$(PLATFORM_DIR)/%.d: %.Y
	@echo Generating dependencies for $<
	@if [ -d $(BUILD_DIR) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(BUILD_DIR)); fi
	@if $(TEST) $(BUILD_DIR) -ef $(PLATFORM_DIR) ; then set +x; \
	else (if $(TEST) -e $(PLATFORM_DIR) ; then (set -x ; $(RM) -r $(PLATFORM_DIR)) fi; \
	set -x ; ln -s $(BUILD_DIR) $(PLATFORM_DIR)) fi
	@$(RM) $@ $@.tmp
	@$(SHELL) -ec \
'$(CCPLUS) $(CPLUSFLAGS) $(PREPROCESSFLAG) $< | sed -e "/^#[ line0-9]* \"/!d" $(SED_EXTRA) -e "s|^.*\"\(.*\)\".*$$|$(PLATFORM_DIR)/$*$(OSUF) $@\: \1|" | sort -u | sed -e "s|\([A-Za-z]\):/|/\1/|g" > $@.tmp'
	@mv $@.tmp $@

$(PLATFORM_DIR)/%.d: %.L
	@echo Generating dependencies for $<
	@if [ -d $(BUILD_DIR) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(BUILD_DIR)); fi
	@if $(TEST) $(BUILD_DIR) -ef $(PLATFORM_DIR) ; then set +x; \
	else (if $(TEST) -e $(PLATFORM_DIR) ; then (set -x ; $(RM) -r $(PLATFORM_DIR)) fi; \
	set -x ; ln -s $(BUILD_DIR) $(PLATFORM_DIR)) fi
	@$(RM) $@ $@.tmp
	@$(SHELL) -ec \
'$(CCPLUS) $(CPLUSFLAGS) $(PREPROCESSFLAG) $< | sed -e "/^#[ line0-9]* \"/!d" $(SED_EXTRA) -e "s|^.*\"\(.*\)\".*$$|$(PLATFORM_DIR)/$*$(OSUF) $@\: \1|" | sort -u | sed -e "s|\([A-Za-z]\):/|/\1/|g" > $@.tmp'
	@mv $@.tmp $@

$(PLATFORM_DIR)/%.d: %$(CPLUSSUF)
	@echo Generating dependencies for $<
	@if [ -d $(BUILD_DIR) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(BUILD_DIR)); fi
	@if $(TEST) $(BUILD_DIR) -ef $(PLATFORM_DIR) ; then set +x; \
	else (if $(TEST) -e $(PLATFORM_DIR) ; then (set -x ; $(RM) -r $(PLATFORM_DIR)) fi; \
	set -x ; ln -s $(BUILD_DIR) $(PLATFORM_DIR)) fi
	@$(RM) $@ $@.tmp
	@$(SHELL) -ec \
'$(CCPLUS) $(CPLUSFLAGS) $(PREPROCESSFLAG) $< | sed -e "/^#[ line0-9]* \"/!d" $(SED_EXTRA) -e "s|^.*\"\(.*\)\".*$$|$(PLATFORM_DIR)/$*$(OSUF) $@\: \1|" | sort -u | sed -e "s|\([A-Za-z]\):/|/\1/|g" > $@.tmp'
	@mv $@.tmp $@

$(PLATFORM_DIR)/%.d: %$(CSUF)
	@echo Generating dependencies for $<
	@if [ -d $(BUILD_DIR) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(BUILD_DIR)); fi
	@if $(TEST) $(BUILD_DIR) -ef $(PLATFORM_DIR) ; then set +x; \
	else (if $(TEST) -e $(PLATFORM_DIR) ; then (set -x ; $(RM) -r $(PLATFORM_DIR)) fi; \
	set -x ; ln -s $(BUILD_DIR) $(PLATFORM_DIR)) fi
	@$(RM) $@ $@.tmp
	@$(SHELL) -ec \
'$(CC) $(CFLAGS) $(PREPROCESSFLAG) $< | sed -e "/^#[ line0-9]* \"/!d" $(SED_EXTRA) -e "s|^.*\"\(.*\)\".*$$|$(PLATFORM_DIR)/$*$(OSUF) $@\: \1|" | sort -u | sed -e "s|\([A-Za-z]\):/|/\1/|g" > $@.tmp'
	@mv $@.tmp $@

$(PLATFORM_DIR)/%.cpp: %.Y
	@if [ -d $(BUILD_DIR) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(BUILD_DIR)); fi
	@if $(TEST) $(BUILD_DIR) -ef $(PLATFORM_DIR) ; then set +x; \
	else (if $(TEST) -e $(PLATFORM_DIR) ; then (set -x ; $(RM) -r $(PLATFORM_DIR)) fi; \
	set -x ; ln -s $(BUILD_DIR) $(PLATFORM_DIR)) fi
	@$(RM) $@
	$(BISON) -d -v -o$@ $<

$(PLATFORM_DIR)/%.h: %.Y
	@if [ -d $(BUILD_DIR) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(BUILD_DIR)); fi
	@if $(TEST) $(BUILD_DIR) -ef $(PLATFORM_DIR) ; then set +x; \
	else (if $(TEST) -e $(PLATFORM_DIR) ; then (set -x ; $(RM) -r $(PLATFORM_DIR)) fi; \
	set -x ; ln -s $(BUILD_DIR) $(PLATFORM_DIR)) fi
	@$(RM) $(PLATFORM_DIR)/$*.cpp
	$(BISON) -d -v -o$(PLATFORM_DIR)/$*.cpp $<

$(PLATFORM_DIR)/%$(OSUF): $(PLATFORM_DIR)/%.cpp $(PLATFORM_DIR)/%.h %.Y
	@if [ -d $(BUILD_DIR) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(BUILD_DIR)); fi
	@if $(TEST) $(BUILD_DIR) -ef $(PLATFORM_DIR) ; then set +x; \
	else (if $(TEST) -e $(PLATFORM_DIR) ; then (set -x ; $(RM) -r $(PLATFORM_DIR)) fi; \
	set -x ; ln -s $(BUILD_DIR) $(PLATFORM_DIR)) fi
	$(CCPLUS) -c $(CPLUSOUTFLAG)$(ARGSEP)$@ \
	$(subst -O4,-O2,$(CPLUSFLAGS)) $<

$(PLATFORM_DIR)/%.cpp: %.L
	@$(RM) $@
	$(FLEX) -o$@ -Cfe $<

$(PLATFORM_DIR)/%$(OSUF): %$(CPLUSSUF)
	@if [ -d $(BUILD_DIR) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(BUILD_DIR)); fi
	@if $(TEST) $(BUILD_DIR) -ef $(PLATFORM_DIR) ; then set +x; \
	else (if $(TEST) -e $(PLATFORM_DIR) ; then (set -x ; $(RM) -r $(PLATFORM_DIR)) fi; \
	set -x ; ln -s $(BUILD_DIR) $(PLATFORM_DIR)) fi
	@$(RM) $@
	$(CCPLUS) $(CPLUSFLAGS) -c $(CPLUSOUTFLAG)$(ARGSEP)$@ $<

$(PLATFORM_DIR)/%$(OSUF): %$(CSUF)
	@if [ -d $(BUILD_DIR) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(BUILD_DIR)); fi
	@if $(TEST) $(BUILD_DIR) -ef $(PLATFORM_DIR) ; then set +x; \
	else (if $(TEST) -e $(PLATFORM_DIR) ; then (set -x ; $(RM) -r $(PLATFORM_DIR)) fi; \
	set -x ; ln -s $(BUILD_DIR) $(PLATFORM_DIR)) fi
	@$(RM) $@
	$(CC) $(CFLAGS) -c $(CPLUSOUTFLAG)$(ARGSEP)$@ $<

%$(OSUF): %$(CPLUSSUF)
	@if [ -d $(BUILD_DIR) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(BUILD_DIR)); fi
	@if $(TEST) $(BUILD_DIR) -ef $(PLATFORM_DIR) ; then set +x; \
	else (if $(TEST) -e $(PLATFORM_DIR) ; then (set -x ; $(RM) -r $(PLATFORM_DIR)) fi; \
	set -x ; ln -s $(BUILD_DIR) $(PLATFORM_DIR)) fi
	@$(RM) $@
	$(CCPLUS) $(CPLUSFLAGS) \
	-c $(CPLUSOUTFLAG)$(ARGSEP)$(PLATFORM_DIR)/$(*F)$(OSUF) $<

%$(OSUF): %$(CSUF)
	@if [ -d $(BUILD_DIR) ]; then set +x; \
	else (set -x; $(MKDIRHIER) $(BUILD_DIR)); fi
	@if $(TEST) $(BUILD_DIR) -ef $(PLATFORM_DIR) ; then set +x; \
	else (if $(TEST) -e $(PLATFORM_DIR) ; then (set -x ; $(RM) -r $(PLATFORM_DIR)) fi; \
	set -x ; ln -s $(BUILD_DIR) $(PLATFORM_DIR)) fi
	@$(RM) $@
	$(CC) $(CFLAGS) -c $(CPLUSOUTFLAG)$(ARGSEP)$(PLATFORM_DIR)/$(*F)$(OSUF) $<

Makefile::
	-@if [ ! -f Makefile.$(PLATFORM_DIR) ]; then \
	exit 0; fi
	$(IMAKE_CMD) -DTOPDIR=$(TOP) -DCURDIR=$(CURRENT_DIR)

Makefile.$(PLATFORM_DIR):: Imakefile
	-@if [ ! -f Makefile.$(PLATFORM_DIR) ]; then \
	exit 0; fi
	$(IMAKE_CMD) -DTOPDIR=$(TOP) -DCURDIR=$(CURRENT_DIR)

unlock::
	$(RM) $(TOP)/lib/$(PLATFORM_DIR)/Templates.DB/tdb_link.lock

all::
	@if [ -d $(PLATFORM_DIR) ] ; then set -x ; \
	cd $(PLATFORM_DIR); touch . ; \
	fi

install::
	@if [ -d $(PLATFORM_DIR) ] ; then set -x ; \
	cd $(PLATFORM_DIR); touch . ; \
	fi

cmpinstall::
	@if [ -d $(PLATFORM_DIR) ] ; then set -x ; \
	cd $(PLATFORM_DIR); touch . ; \
	fi

install::

cmpinstall::

Makefiles::

etags::

javadoc::

%: %.sh

