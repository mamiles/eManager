<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.4" />
  <meta name="TEMPLATEBASE" content="TIBCO Software Inc. Template 3.3.2" />
  <meta name="LASTUPDATED" content="10/22/02 12:42:10" />
  <title>tibrvTransport_CreateConnectVc()</title>
  <link rel="StyleSheet" href="document.css" type="text/css" />
  <link rel="StyleSheet" href="catalog.css" type="text/css" />
<script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
  <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>

  <script type="text/javascript" language="JavaScript1.2">
   <!--
    // Set reference to top level help frame
    //
var  WWHFrame = WWHGetWWHFrame("");

    var BookName = "TIBCO Rendezvous C Reference";
    var ChapterTitle = "Chapter&#160;9	 Virtual Circuits";
   // -->
  </script>
 </head>

 <body  onLoad="WWHUpdate();WWHFrame.WWHContentFrame.WWHPageNavFrame.WWHTitleFrame.location.reload();">


<a name="wp1214331"> </a><h2 class="pNewHTMLPage">
tibrvTransport_CreateConnectVc()
</h2>
<hr />
<a name="wp1214332"> </a><p class="pSyntaxType">
Function
</p>
<a name="wp1217019"> </a><h4 class="pHeading3">
Declaration
</h4>
<div class="pPreformattedRelative"><pre class="pPreformattedRelative">
<a  href="rv_c_ref227.htm#wp1193732"><code class="cCode">tibrv_status</code></a> <code class="cCodeBold">tibrvTransport_CreateConnectVc</code>(<a name="wp1217023"> </a>
&#160;&#160;&#160;&#160;<a  href="rv_c_ref132.htm#wp1066635"><code class="cCode">tibrvTransport</code></a>*&#160;&#160;&#160;&#160;vcTransport,<a name="wp1217027"> </a>
&#160;&#160;&#160;&#160;const char*&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;connectSubject,<a name="wp1217028"> </a>
&#160;&#160;&#160;&#160;<a  href="rv_c_ref132.htm#wp1066635"><code class="cCode">tibrvTransport</code></a>&#160;&#160;&#160;&#160;&#160;transport);<a name="wp1217032"> </a>
</pre></div>
<a name="wp1217033"> </a><h4 class="pHeading3">
Purpose
</h4>
<a name="wp1217034"> </a><p class="pBody">
Create a virtual circuit connect object.
</p>
<a name="wp1217035"> </a><h4 class="pHeading3">
Remarks
</h4>
<a name="wp1230454"> </a><p class="pBody">
A virtual circuit transport can fill the same roles as an ordinary transport. Programs can supply them as arguments to calls that create inbox names, send messages, create listeners and other events.
</p>
<a name="wp1217071"> </a><p class="pBody">
</p><div align="left">
<table border="1">
  <caption><a name="wp1217046"> </a><p class="pBody">
&#160;
</p>
</caption>
  <tr bgcolor="#006DA9" align="center" valign="top">    <th><a name="wp1217050"> </a><div class="pCellHeading">
Parameter
</div>
</th>
    <th><a name="wp1217052"> </a><div class="pCellHeading">
Description
</div>
</th>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1217054"> </a><div class="pCellBody">
<code class="cCode">vcTransport</code>
</div>
</td>
    <td><a name="wp1230354"> </a><div class="pCellBody">
The program supplies a location, and the function stores the new virtual circuit connect transport in that location.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1217060"> </a><div class="pCellBody">
<code class="cCode">connectSubject</code>
</div>
</td>
    <td><a name="wp1217062"> </a><div class="pCellBody">
The connect transport uses this connect subject to establish a virtual circuit with an <em class="cEmphasis">accept</em> transport in another program.
</div>
<a name="wp1217063"> </a><div class="pCellBody">
The program must receive this connect subject from the accepting program. The call to <a  href="rv_c_ref147.htm#wp1213448"><code class="cCode">tibrvTransport_CreateAcceptVc()</code></a> creates this subject.
</div>
</td>
</tr>
  <tr align="left" valign="top">    <td><a name="wp1217068"> </a><div class="pCellBody">
<code class="cCode">transport</code>
</div>
</td>
    <td><a name="wp1230366"> </a><div class="pCellBody">
The virtual circuit uses this ordinary transport for communications.
</div>
<a name="wp1235888"> </a><div class="pCellBody">
Programs may use this transport for other purposes.
</div>
<a name="wp1230368"> </a><div class="pCellBody">
It is illegal to supply a virtual circuit transport object for this parameter (that is, you cannot nest a virtual circuit within another virtual circuit).
</div>
</td>
</tr>
</table>
</div>
<p class="pBody">
</p>
<a name="wp1236246"> </a><h4 class="pHeading3">
Test Before Using
</h4>
<a name="wp1236247"> </a><p class="pBody">
Either of two conditions indicate that the connection is ready to use:
</p>
<div class="pSmartList1"><ul>
<a name="wp1236251"> </a><div class="pSmartList1"><li >The transport presents the <a  href="javascript:WWHClickedPopup('a', 'rv_concepts169.htm#wp1112941');" onMouseOver="WWHShowPopup('a', 'rv_concepts169.htm#wp1112941', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><code class="cCode">VC.CONNECTED</code></a> advisory.</li></div>

<a name="wp1236255"> </a><div class="pSmartList1"><li ><a  href="rv_c_ref149.htm#wp1217469"><code class="cCode">tibrvTransport_WaitForVcConnection()</code></a> returns without error.</li></div>

</ul></div>

<a name="wp1236257"> </a><p class="pBody">
Immediately after this call, test <em class="cEmphasis">both</em> conditions with these two steps (in this order):
</p>
<div class="pSmartList1"><ol type="1">
<a name="wp1236261"> </a><div class="pSmartList1"><li value="1">Listen on the virtual circuit transport object for the <a  href="javascript:WWHClickedPopup('a', 'rv_concepts169.htm#wp1112941');" onMouseOver="WWHShowPopup('a', 'rv_concepts169.htm#wp1112941', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><code class="cCode">VC.CONNECTED</code></a> advisory.</li></div>

<a name="wp1236265"> </a><div class="pSmartList1"><li value="2">Call <a  href="rv_c_ref149.htm#wp1217469"><code class="cCode">tibrvTransport_WaitForVcConnection()</code></a> with zero as the timeout parameter.</li></div>

</ol></div>

<a name="wp1236272"> </a><p class="pBody">
For an explanation, see <a  href="javascript:WWHClickedPopup('a', 'rv_concepts83.htm#wp1187618');" onMouseOver="WWHShowPopup('a', 'rv_concepts83.htm#wp1187618', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Testing the New Connection</a> in <em class="cEmphasis">TIBCO Rendezvous Concepts</em>.
</p>
<a name="wp1235941"> </a><h4 class="pHeading3">
Broken Connection
</h4>
<a name="wp1230385"> </a><p class="pBody">
The following conditions can close a virtual circuit connection:
</p>
<div class="pSmartList1"><ul>
<a name="wp1230386"> </a><div class="pSmartList1"><li >Contact is broken between the object and its terminal.</li></div>

<a name="wp1230390"> </a><div class="pSmartList1"><li >The virtual circuit loses data in either direction (see <a  href="javascript:WWHClickedPopup('a', 'rv_concepts164.htm#wp1038437');" onMouseOver="WWHShowPopup('a', 'rv_concepts164.htm#wp1038437', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><code class="cCode">DATALOSS</code> </a> in <em class="cEmphasis">TIBCO Rendezvous Concepts</em>).</li></div>

<a name="wp1230394"> </a><div class="pSmartList1"><li >The partner program destroys its terminal object (or that terminal becomes invalid).</li></div>

<a name="wp1230395"> </a><div class="pSmartList1"><li >The program destroys the object.</li></div>

<a name="wp1230396"> </a><div class="pSmartList1"><li >The program destroys the object&#8217;s ordinary transport.</li></div>

</ul></div>

<a name="wp1230398"> </a><h4 class="pHeading3">
Destroying VC Transports
</h4>
<a name="wp1230399"> </a><p class="pBody">
Programs must explicitly destroy each virtual circuit transport object. Destroying a transport object precludes subsequent communications on that transport, and frees its storage. Attempting to use a destroyed transport in any way is an error. See <a  href="rv_c_ref136.htm#wp1066967"><code class="cCode">tibrvTransport_Destroy()</code> </a>.
</p>
<a name="wp1231159"> </a><p class="pBody">
Destroying a virtual circuit transport does <em class="cEmphasis">not</em> affect the ordinary transport that the terminal employs.
</p>
<a name="wp1230965"> </a><h4 class="pHeading3">
Direct Communication
</h4>
<a name="wp1230995"> </a><p class="pBody">
Because virtual circuits rely on point-to-point messages between the two terminals, they can use direct communication to good advantage. To do so, both terminals must use network transports that enable direct communication.
</p>
<a name="wp1230972"> </a><p class="pBody">
For an overview, see <a  href="javascript:WWHClickedPopup('a', 'rv_concepts78.htm#wp1144571');" onMouseOver="WWHShowPopup('a', 'rv_concepts78.htm#wp1144571', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Direct Communication</a> in <em class="cEmphasis">TIBCO Rendezvous Concepts</em>.
</p>
<a name="wp1230977"> </a><p class="pBody">
For programming details, see <a  href="javascript:WWHClickedPopup('a', 'rv_concepts72.htm#wp1177702');" onMouseOver="WWHShowPopup('a', 'rv_concepts72.htm#wp1177702', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();">Specifying Direct Communication</a> in <em class="cEmphasis">TIBCO Rendezvous Concepts</em>.
</p>
<a name="wp1217096"> </a><h4 class="pHeading3">
See Also
</h4>
<a name="wp1217100"> </a><p class="pBody">
<a  href="rv_c_ref136.htm#wp1066967"><code class="cCode">tibrvTransport_Destroy()</code> </a>
</p>
<a name="wp1220064"> </a><p class="pBody">
<a  href="rv_c_ref147.htm#wp1213448"><code class="cCode">tibrvTransport_CreateAcceptVc()</code> </a>
</p>
<a name="wp1217104"> </a><p class="pBody">
<a  href="rv_c_ref149.htm#wp1217469"><code class="cCode">tibrvTransport_WaitForVcConnection()</code> </a>
</p>
<a name="wp1230425"> </a><p class="pBody">
<a  href="javascript:WWHClickedPopup('a', 'rv_concepts169.htm#wp1112941');" onMouseOver="WWHShowPopup('a', 'rv_concepts169.htm#wp1112941', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><code class="cCode">VC.CONNECTED</code> </a> in <em class="cEmphasis">TIBCO Rendezvous Concepts</em>
</p>
<a name="wp1230432"> </a><p class="pBody">
<a  href="javascript:WWHClickedPopup('a', 'rv_concepts170.htm#wp1114062');" onMouseOver="WWHShowPopup('a', 'rv_concepts170.htm#wp1114062', (document.all||document.getElementById||document.layers)?event:null);" onMouseOut="WWHHidePopup();"><code class="cCode">VC.DISCONNECTED</code> </a> in <em class="cEmphasis">TIBCO Rendezvous Concepts</em>
</p>


 <hr />


    <table align="right" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="right">
        <span style="font-size: 10px">
TIBCO Rendezvous C Reference <br />
          
Software Release 7.1,  
October 2002<br />
        <em>Copyright &#169; TIBCO Software Inc. All rights reserved</em><br />
        <a href="http://www.tibco.com" target="_top">www.tibco.com</a><br />
        </span>
        </td>
      </tr>
    </table>


<script type="text/javascript" language="JavaScript1.2">
   <!--
    document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag());
   // -->
  </script>

 </body>
</html>
